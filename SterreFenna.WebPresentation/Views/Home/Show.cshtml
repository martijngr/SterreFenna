@model SterreFenna.Business.Series.Views.SerieDetailView

<!-- Swiper -->
<!-- http://idangero.us/swiper/demos/#.V0nq9ZF97Dc -->

<div class="swiper-container">
    <div class="swiper-wrapper">
        @foreach (var item in Model.SerieItems)
        {
            <div class="swiper-slide">
                <img src="@item.Location" />
            </div>
        }
        @if (!Model.Credits.IsEmpty())
        {
            <div class="swiper-slide serie-credits">
                <div>
                    <span>
                        @Html.Raw(Model.Credits.Replace("\r\n", "<br/>"))
                    </span>
                </div>
            </div>
        }
    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination"></div>
</div>

@section scripts{
    <script type="text/javascript">
        var totalItems = @Model.SerieItems.Count();

        $(document).ready(function () {
            //initialize swiper when document ready
            var swiper = new Swiper('.swiper-container', {
                pagination: '.swiper-pagination',
                slidesPerView: 'auto',
                paginationClickable: true,
                spaceBetween: 30,
                centeredSlides: totalItems > 3 ? false : true,
                freeMode: true,
                onInit: function(swiper){
                    if(totalItems > 1 && totalItems <= 3){
                        swiper.slideTo(1);
                    }
                }
            });
        });
    </script>
}
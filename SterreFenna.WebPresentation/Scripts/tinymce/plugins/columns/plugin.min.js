tinymce.PluginManager.add("columns",function(n){function t(n,t){for(var i=!1;!i;){if(t>n.length)break;i=n.charAt(t)==" ";i||t++}return t}n.addButton("columns",{text:"Maak kolommen",icon:!1,onclick:function(){var f=n.getContent().replace(/^\<p\>/,"").replace(/\<\/p\>$/,""),u;if(f.length>70){var i=f,o=i.length/2,e=t(i,o),s=i.substring(0,e),r=i.substring(e,i.length);r=r.indexOf(" ")==0?r.replace(" ",""):r;u='<table><tr><td style="width:50%" valign="top">'+s+'<\/td><td style="width:50%" valign="top">'+r+"<\/td><\/tr><\/table>";n.setContent(u);console.log(u)}}});n.addMenuItem("columns",{text:"Example plugin",context:"tools",onclick:function(){n.windowManager.open({title:"TinyMCE site",url:"http://www.tinymce.com",width:800,height:600,buttons:[{text:"Close",onclick:"close"}]})}})});
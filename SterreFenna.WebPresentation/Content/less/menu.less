//main menu overrides. Note: Not used BEM classes since there already is a pre-defined structure using the bootstrap menu template
@trianglesize: 12px;
@triangleAndSubmenuPosition: 40%;
@responsivemenucolor: antiquewhite; //on expand

.main-menu {
    //basic menubar positioning, styling and bootstrap overrides
    position: fixed;
    z-index: 50;
    top: 0;
    left: 0;
    width: 100%;
    margin: 0;
    background-color: white;
    box-shadow: none;
    border: 0;
    min-height: 0;
    border-radius: 0;
    color: black;
    background-image: none;
    font-size: 12px;
    padding: 5px 15px 5px 15px;
    .transition(all 300ms ease-in-out);

    &.open {
        background-color: @responsivemenucolor;

        .navbar-toggle {
            //margin-left: 0;
            .icon-bar-1 {
                .transform(rotate(45deg));
                .transform-origin(10%, 10%);
            }

            .icon-bar-2 {
                opacity: 0;
            }

            .icon-bar-3 {
                .transform(rotate(-45deg));
                .transform-origin(10%, 90%);
            }
        }
    }

    .navbar-header {
        display: table;
        width: 100%;
    }
    //responsive toggle button
    .responsive__toggle {
        width: 50px;
        height: 50px;
        display: table-cell;
        vertical-align: middle;
    }

    .navbar-toggle {
        float: none;
        vertical-align: middle;
        background-color: transparent;
        border: none;
        padding: 15px 15px 15px 15px;
        margin-left: -15px;

        &:hover, &:focus, &:active {
            background-color: transparent;
            border: none;
        }

        .icon-bar {
            background-color: black;
            .transition(all 300ms ease-in-out);
        }

        .icon-bar-1 {
            .transform(rotate(0));
            .transform-origin(0, 0);
        }

        .icon-bar-2 {
            opacity: 1;
        }

        .icon-bar-3 {
            .transform(rotate(0deg));
            .transform-origin(0, 0);
        }
    }

    .responsive__logo {
        display: table-cell;
        height: 40px;
        vertical-align: middle;
        //margin: auto;
    }

    .responsive__contact {
        width: 50px;
        height: 50px;
        display: table-cell;
        vertical-align: middle;
        text-align: center;
        margin-right: -15px;
        color: black;

        i {
            font-size: 22px;
            float: right;
            margin-right: -15px;
            padding: 15px 15px 15px 15px;
        }

        &:hover, &:active, &:focus {
            color: black;
        }
    }
    //menu div containers
    .navbar-default {
        background-image: none;
    }

    .navbar-collapse {
        .transition(all 300ms ease-in-out);
        display: block;
        padding: 0;
        min-height: 0;
        max-height: 0;
        overflow: hidden;
        border: 0px solid @responsivemenucolor;
    }
    //general, right and left menu (incl. items) positioning, styling and bootstrap overrides
    .navbar-nav {
        margin: 0;
        text-transform: uppercase;

        .main-menu__item {
            padding: 5px 5px 5px 0;
            margin: 0;
            position: static;
        }
    }

    .navbar-left, navbar-right {
        .main-menu__item:first-child {
            border-bottom: 1px solid black;
            margin-bottom: 10px;
        }
    }

    .navbar-right--responsive {
        border-top: 1px solid black;
        display: block;
    }

    .navbar-right {
        display: none;

        .main-menu__item:last-child {
            border-bottom: 1px solid black;
            margin-bottom: 10px;
        }
    }
    //main menu items
    ul li a.main-menu__link {
        position: relative;
        padding: 0;
        color: @brand-menu-item;
        .user-select(none);

        &:hover {
            color: lighten(@brand-menu-item, 50%);
            border: none;
            cursor: pointer;
            //font-weight: bold;
        }

        .list-triangle {
            position: absolute;
            right: 0;
            padding: 5px;
        }
    }

    .main-menu__link.main-menu__triangle.triangle-open {
        font-weight: bold;
    }
    //submenu + items
    .main-menu__submenu {
        .transition(all 300ms ease-in-out);
        display: block;
        height: 0;
        overflow: hidden;
        padding: 0;
        text-transform: uppercase;
        list-style: none;
    }

    .main-menu__submenu.dropdown-open {
        //height calculated in js (to get good animation speed)
    }

    .main-menu__submenu__item {
        padding: 5px 5px 5px 40px;
        color: @brand-menu-item;
        text-decoration: none;
        margin: 0;
        font-weight: normal;
        .user-select(none);

        &:first-child {
            margin-top: 5px;
        }

        &:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
        }

        a {
            .user-select(none);
            display: block;
            color: @brand-menu-item;

            &:hover, &:focus {
                //font-weight: bold; //cant animate font-weight
                color: lighten(@brand-menu-item, 50%);
                text-decoration: none;
            }
        }
    }
}



@media (min-width: @screen-xs) {
    .main-menu {
        //padding: 5px 30px 5px 30px;
        font-size: 14px;
    }

    .socialmediabar {
        margin-top:20px;
        text-align: center;
        display: block;

        & > img {
            height: 30px;
        }

        .space-right-30{
            margin-right:30px;
        }

        .title{
            text-transform:uppercase;
            margin-bottom:20px;
        }
    }
}

@media (min-width: @screen-sm) {
}

@media (min-width: @screen-md) {
    .main-menu {
        position: relative;
        margin: 0;
        top: auto;
        left: auto;
        width: 100%;
        background-color: white;

        .responsive__logo {
            display: none;
        }

        .responsive__contact {
            display: none;
        }

        .navbar-header {
            background-color: white;
            display: none;
        }

        .navbar-collapse {
            overflow: visible;
            max-height: 100px;
            padding: 0;
            background-color: white;
            border-bottom: 1px solid black;
        }

        .main-menu__border {
            border-top: 0px solid white;
            border-right: 0px solid white;
            border-bottom: 1px solid black;
            border-left: 0px solid white;
        }

        .navbar-nav.navbar-left {
            .main-menu__item {
                margin: 0 20px 0 20px;

                &:first-child {
                    margin-left: 0;
                    border-bottom: 0;
                }
            }
        }

        .navbar-right--responsive {
            display: none;
        }

        .navbar-nav.navbar-right {
            display: block;

            .main-menu__item {
                margin: 0 20px 0 20px;

                &:last-child {
                    margin-right: 0;
                    border-bottom: 0;
                }
            }
        }

        .main-menu__submenu {
            //margin-left calculated in js
            position: absolute;
            top: 60px;
        }

        .main-menu__submenu__item {
            margin: 0 20px 0 20px;
            padding: 0;
            color: @brand-menu-item;
            float: left;

            &:first-child {
                margin-top: 0;
                margin-left: 0;
            }
        }

        .list-triangle {
            display: none;
        }
        //triangle
        .triangle-base {
            .transition(all 300ms ease-in-out);
            content: "";
            position: absolute;
            .calc(left, ~'(@{triangleAndSubmenuPosition} - @{trianglesize})');
        }
        //add a triangle to the menu items with triangle and main-menu__submenu class (invisible with just this class, until triangle-open)
        .main-menu__link.main-menu__triangle {
            &:after {
                .triangle-base;
                .calc(top; "100% + 4px"); //1px less then before, since the white triangle should be on top of the black one minus 1px (triangle thickness)
                border-left: @trianglesize solid transparent;
                border-right: @trianglesize solid transparent;
                border-top: 0 solid white;
            }

            &:before {
                .triangle-base;
                .calc(top; "100% + 5px"); //1px more then after, since the black triangle should be 1 px visible (triangle thickness)
                border-left: @trianglesize solid transparent;
                border-right: @trianglesize solid transparent;
                border-top: 0 solid black;
            }
        }
        //when added class triangle-open show triangle
        .main-menu__link.main-menu__triangle.triangle-open {
            &:after {
                .triangle-base;
                .calc(top; "100% + 4px");
                border-left: @trianglesize solid transparent;
                border-right: @trianglesize solid transparent;
                border-top: @trianglesize solid white;
            }

            &:before {
                .triangle-base;
                .calc(top; "100% + 5px");
                border-left: @trianglesize solid transparent;
                border-right: @trianglesize solid transparent;
                border-top: @trianglesize solid black;
            }
        }
    }

    .socialmediabar {
        display: none;
    }
}

@media (min-width: @screen-lg) {
}
